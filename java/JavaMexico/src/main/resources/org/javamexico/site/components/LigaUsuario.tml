<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<t:container xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd" xmlns:p="tapestry:parameter">

<t:if t:test="userExists">
<t:zone t:id="innerZone" t:visible="showInnerZone"><t:body/></t:zone>
<t:actionlink t:zone="prop:innerZoneClientId" t:id="loggedLink">${text}</t:actionlink>
<p:else>
<t:zone t:id="loginZone" t:visible="showLoginZone">
Debe registrarse primero
<t:form t:id="login"><t:errors/>
Usuario: <t:textfield t:value="uname" size="16" validate="required,maxLength=20" />
Password: <t:passwordfield t:value="passwd" size="16" validate="required" />
<t:submit value="Validar" />
</t:form></t:zone><t:actionlink t:zone="prop:loginZoneClientId" t:id="loginLink">${text}</t:actionlink>
</p:else></t:if>

</t:container>
